<!DOCTYPE html>
<html lang="fr">

<head>
    <title>Madera</title>
    <meta charset="utf-8">
    <link rel="stylesheet" type="text/css" href="/stylesheets/index.css">
    <link rel="stylesheet" type="text/css" href="/stylesheets/header_footer.css">
    <link rel="stylesheet" type="text/css" href="/stylesheets/bootstrap.css">
    <link rel="shortcut icon" href="/images/icone.png">
    <% include ../bootstrap_link.ejs %>
</head>

<body>
    <% include ../header.ejs %>
        <div class="container">
            <h1>Création d'un devis :</h1>
            <form action="/commercial/createPlan" method="POST">
                <div class="row">
                    <div class="col-md-6 col-sm-6 col-xs-12">
                        <h2>Projet :</h2>
                        <label>Nom du projet :</label><br/>
                        <input type="text" id="nomProjet" name="nomProjet" class="form-control" required/>
                        <h2>Client :</h2>
                        <select id="client" name="client" class="form-control">
                            <% for(var i=0; i < clients.length; i++){ %>
                                    <option value="<%= clients[i].id %>"><%= clients[i].nom + " " + clients[i].prenom + " - " + clients[i].mail + " - " + clients[i].telephone %></option>
                            <% } %>
                        </select><br/>
                        <button type="button" class="btn btn-default" onclick="ajoutClient()">Ajouter Client</button>
                        <button type="submit" class="btn btn-primary btnVal">Valider</button>
                    </div>
                    <div class="col-md-6 col-sm-6 col-xs-12">
                        <h2>Adresse :</h2>
                        <label>Numéro :</label><br/>
                        <input type="number" id="numClient" name="numClient" class="form-control" required/><br/>
                        <label>Adresse :</label><br/>
                        <input type="text" id="adresseClient" name="adresseClient" class="form-control" required/><br/>
                        <label>Code postal :</label><br/>
                        <input type="number" id="postalClient" name="postalClient" class="form-control" required/><br/>
                        <label>Ville :</label><br/>
                        <input type="text" id="villeClient" name="villeClient" class="form-control" required/><br/>
                        <label>Pays :</label><br/>
                        <input type="text" id="paysClient" name="paysClient" class="form-control" required/><br/>
                    </div>
                </div>
            </form>
        </div>
        <div id="myModal" class="modal fade" role="dialog">
            <div class="modal-dialog">

                <!-- Modal content-->
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                        <h4 class="modal-title">Modal Header</h4>
                    </div>
                    <div class="modal-body">
                    </div>
                </div>

            </div>
        </div>
    <% include ../footer.ejs %>
    <script>
        function ajoutClient(){
            var header = '<button type="button" class="close" data-dismiss="modal">&times;</button><h4 class="modal-title">Ajout d\'un client</h4>';
            var body = '<div class="container-fluid">'+
                '<form action="/commercial/createDevisClient" method="POST">'+
                    '<div class="col-lg-12">'+
                        '<div class="col-lg-6">'+
                            '<h3>Client :</h3>'+
                            '<label>Nom :</label>'+
                            '<input type="text" name="nomCreate" class="form-control" required/><br/>'+
                            '<label>Prenom :</label>'+
                            '<input type="text" name="prenomCreate" class="form-control" required/><br/>'+
                            '<label>Mail :</label>'+
                            '<input type="email" name="emailCreate" class="form-control" required/><br/>'+
                            '<label>Téléphone :</label>'+
                            '<input type="text" name="phoneCreate" class="form-control" required/><br/>'+
                        '</div>'+
                        '<div class="col-lg-6">'+
                            '<h3>Adresse :</h3>'+
                            '<label>Numéro :</label>'+
                            '<input type="number" name="numAdresseCreate" class="form-control" required/><br/>'+
                            '<label>Libellé :</label>'+
                            '<input type="text" name="libAdresseCreate" class="form-control" required/><br/>'+
                            '<label>Code postal :</label>'+
                            '<input type="number" name="cpAdresseCreate" class="form-control" required/><br/>'+
                            '<label>Ville :</label>'+
                            '<input type="text" name="villeAdresseCreate" class="form-control" required/><br/>'+
                            '<label>Pays :</label>'+
                            '<input type="text" name="paysAdresseCreate" class="form-control" required/>'+
                        '</div>'+
                    '</div>'+
                    '<div class="col-lg-12">'+
                        '<button type="submit" class="form-control btn btn-primary pull-right" style="margin-top:20px;">Valider</button>'+
                    '</div>'+
                '</form>'+
                '</div>';
            var footer = ''
            document.getElementsByClassName('modal-header')[0].innerHTML = header;
            document.getElementsByClassName('modal-body')[0].innerHTML = body;
            //document.getElementsByClassName('modal-footer')[0].innerHTML = footer;
            $("#myModal").modal();
        }
    </script>
</body>

</html>
